"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9969],{69249:function(e,t,n){n.d(t,{uM:function(){return m},It:function(){return b},LA:function(){return v}});var r=n(29544),i=n.n(r),o=n(29208),a=n.n(o),s=n(69657),c="\n{\n    _id\n    url\n    width\n    height\n    image_type\n    subtitle\n    caption\n    copyright\n    credits {\n      affiliation {\n        name\n        type\n      }\n      by {\n        name\n        org\n        type\n      }\n    }\n    additional_properties {\n      byline_credit\n    }\n    fusion_additions {\n      aspect_ratio\n      caption_info {\n        credits_display\n        credits_caption_display\n        dangerous {\n          raw_caption\n        }\n      }\n    }\n}\n",u=n(20237),l=n(15778),d=n(40601),p=n(60479),f=n(89784),v={source:"empty"},m=function(e){var t=e.overrides,n=void 0===t?{}:t,r=e.overridesMobile,i=void 0===r?{}:r,o=e.outputType,m=void 0===o?"default":o,b=e.isAdmin,g=void 0!==b&&b,h={noConfig:{}};h.noContent=v;var y,O,j=n.artHide;if(j){if("jsonapp"===m){if(!i.artHide){y=i.liveGraphicsHide;var C=i.liveGraphicsContentConfig;O=void 0===C?{}:C}}}else{y=n.liveGraphicsHide;var D=n.liveGraphicsContentConfig;O=void 0===D?{}:D}var w=a()(O,"contentService",""),x=!y&&/^(.*)-live-graphic$/.test(w);if(x){var P=function(e){return"olympics"===e?"olympicsData":"electionData"}(RegExp.$1);h[P]={source:w,query:a()(O,"contentConfigValues",{})}}if(!x){var N=n.inlineVideo,k=n.alternateArt;if(!(j||!N||!k)&&(0,l.cb)(k))h.videoData={source:"prism-promo",query:{content_path:k},filter:s.Z};else if("jsonapp"===m){var I=i.artHide,S=i.inlineVideo,T=i.alternateArt;!(I||!S||!T)&&(0,l.cb)(T)&&(h.videoData={source:"prism-promo",query:{content_path:k},filter:s.Z})}}var _=n.audioHide,E=n.audioUrl,A=n.audioPodcastSlug,L=n.audioAllowArticleType,Z=n.audioCanonicalUrl;/none/.test(L)&&!/\/podcasts\//.test(Z)&&(Z="");var F=!_&&(!E||!E.split("?")[0].match(/^https?:\/\/.*\.(mp3|ogg|wav)(\?|#|$)/i))&&Z,H=!_&&(!E||!E.split("?")[0].match(/^https?:\/\/.*\.(mp3|ogg|wav)(\?|#|$)/i))&&A;F?h.podcastData={source:"prism-promo",query:{content_path:Z},filter:s.Z}:H&&(h.podcastData={source:"podcast-by-slug",query:{slug:A},filter:"\n{\n    id\n    series\n    title\n    slug\n    images {\n      coverImage {\n        url\n      }\n    }\n    basicLabel {\n      text\n    }\n    embeddableCardDescription,\n    shortDescription,\n    description,\n    createdDate,\n    seriesMeta {\n      subscriptionLinks {\n        alexa\n        applePodcasts\n        googlePlay\n        spotify\n        stitcher\n        tuneIn\n        radioPublic\n        rss\n        iheartRadio\n      }\n      seriesSlug,\n      seriesName\n    }\n    publicationDisplayDate\n    keywords\n    credits {\n      contributors {\n        id\n        name\n      }\n      editors {\n        id\n        name\n      }\n      hostTalents {\n        id\n        name\n      }\n    }\n    owner\n    rhapsochord {\n      preRoll\n      postRoll\n      midRollPoints\n    }\n    duration\n    audio {\n      url\n      podTracUrl,\n      completeUrl\n    }\n}\n"});var G=n.slideshowShow,M=!1;if(!x&&!j&&G){var q=(0,p.Ax)({overrides:n});M=!(null===q||void 0===q||!q.length),g&&M&&(h.slideshowListOfData=[],q.forEach((function(e){var t=(0,f.pH)(e);h.slideshowListOfData.push(t?{source:"anglerfish",query:{id:t},filter:c}:h.noConfig)})))}if(!x)if(j){if("jsonapp"===m){if(!i.artHide){var R=(0,d.Gm)({overrides:i}),V=a()(R,"type",void 0),U=a()(R,"anglerfishId",void 0);g&&("alt-image"===V&&U)&&(h.imageData={source:"anglerfish",query:{id:U},filter:c})}}}else{var B=(0,d.Gm)({overrides:n}),z=a()(B,"type",void 0),Y=a()(B,"anglerfishId",void 0);g&&("alt-image"===z&&Y)&&(h.imageData={source:"anglerfish",query:{id:Y},filter:c})}var $=n.liveTickerHide,J=n.liveTickerCanonicalUrl;return!$&&J&&(h.liveTickerData={source:"prism-promo",query:{content_path:J},filter:s.Z}),"jsonapp"!==m&&M&&(delete h.videoData,delete h.imageData),Object.keys(h).reduce((function(e,t){return e[t]=(0,u.BH)(h[t]),e}),{})};m.propTypes={props:i().object};var b=function(e){var t=e.items,n=void 0===t?[]:t,r=e.overrides,i=void 0===r?{}:r,o=a()(i,"flexFeatureContentConfig.contentConfigValues.limit",5),s=a()(i,"limit",5);o=Number.isNaN(Number.parseInt(o,10))?5:Number.parseInt(o,10),s=Number.isNaN(Number.parseInt(s,10))?5:Number.parseInt(s,10);var c=a()(i,"offset",0);c=Number.isNaN(Number.parseInt(c,0))?0:Number.parseInt(c,0);var u=Math.max(n.length-c,0);return Math.min(u,o,s)};b.propTypes={items:i().array,overrides:i().object}},49969:function(e,t,n){n.r(t),n.d(t,{default:function(){return $}});var r=n(59499),i=n(17674),o=n(67294),a=n(30374),s=n(72573),c=n(70865),u=n(72372),l=n(45074),d=n(15240),p=n(23625),f=n(90116),v=n(4730),m=(n(29544),n(29208)),b=n.n(m),g=n(85893),h=function(e){var t=e.layoutClasses,n=void 0===t?"":t,r=e.layoutStyles,i=void 0===r?{}:r,o=e.positionClasses,a=void 0===o?"":o,s=e.text,c=void 0===s?"put it under a shade":s,u=e.color,l=void 0===u?"lightgray":u,d=e.children;return(0,g.jsxs)("div",{className:"card relative ".concat(n||"grid-item--cols-xl-6 grid-item--cols-lg-6 grid-item--cols-md-12 grid-item--cols-sm-12 grid-item--cols-xs-12"," ").concat(a,"\n      "),style:i,children:[(0,g.jsx)("div",{className:"w-100 font-bold pointer absolute truncate",style:{backgroundColor:l,lineHeight:1,top:"10px",left:"10px",zIndex:1200,width:"fit-content"},children:c}),(0,g.jsx)("div",{className:"o-50 bg-white",children:d})]})},y=n(9424),O=function(e){var t=e.isAdmin,n=void 0!==t&&t,r=e.isSuppressibleDuplicate,i=void 0!==r&&r,o=e.children;return(0,g.jsx)(y.M,{condition:n&&i,wrapper:function(e){return(0,g.jsx)(h,{text:"duplicate content",color:"orange",children:e})},children:o})},j=n(69249),C=n(40601),D=n(35362),w=n(60479),x=(0,o.createContext)({renderedContent:new Map});x.Consumer;var P=n(5267);function N(e){var t=Number.parseInt(b()(e,"width",void 0),10);t=!Number.isNaN(t)&&t>=0?t:void 0;var n=Number.parseInt(b()(e,"height",void 0),10);if(n=!Number.isNaN(n)&&n>0?n:void 0,"number"===typeof t&&"number"===typeof n)return t/n}var k=n(90990);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function(e){return function(e){return S(S({},e),{},{fusion_additions:{aspect_ratio:N(e),caption_info:(0,k.Z)(e)}})}(e)},_=n(4821),E=["overrides"];function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){var t=e.overrides,n=(0,v.Z)(e,E),r=n.noGrid,i=n.id,c=n.index,p=n.fetchedContent,m=n.isAdmin,h=n.isVisited,y=p||{},N=y.canonical_url,k=y.display_date,I="live-all"===(null===p||void 0===p?void 0:p.subtype);o.useEffect((function(){(0,l.C3)("wpVisitedLinks",N,"remove",k)}),[k]);var S=(0,o.useMemo)((function(){return(0,C.CK)(JSON.parse(JSON.stringify(t)))}),[JSON.stringify(t)]),A=(0,o.useContext)(x).renderedContent,Z=(0,u.ql)()||{},F=Z.suppressDuplicates,H=void 0!==F&&F,G=Z.disableLazyLoading,M=void 0!==G&&G,q=(0,d.g)().showFeatureName,R=(0,s.bp)().siteProperties;S.disableLazyLoading=M||R.disableLazyLoading;var V=(0,j.uM)({overrides:S,isAdmin:m}),U=(0,a.r0)(V.noContent);S.thereIsBackingContent=(0,C.c)(p),S.thereIsCustomContentTantamountToContent=S.thereIsBackingContent||(0,C.S5)(S,U);var B=S.thereIsBackingContent?p:U,z=V.podcastData||V.noConfig,Y=(0,a.r0)(z);Y=z===V.noConfig?void 0:Y;var $=V.videoData||V.noConfig,J=(0,a.r0)($);J=$===V.noConfig?void 0:J;var K=V.electionData||V.noConfig,W=(0,a.r0)(K);W=K===V.noConfig?void 0:W;var Q=S.alternateArt,X=S.artSize,ee=S.artPosition,te=S.artAspectRatio,ne=S.liveGraphicsContentConfig,re=S.coverArtUrl,ie=(0,C.hy)({content:B,overrides:S}),oe=ie.url,ae=ie.provenance,se=V.olympicsData||V.noConfig,ce=(0,a.r0)(se);ce=se===V.noConfig?void 0:ce;var ue=V.imageData||V.noConfig,le=(0,a.r0)(L(L({},ue),{},{transform:T}));le=ue===V.noConfig?void 0:le;var de=(V.slideshowListOfData||[]).filter((function(e,t){return t<w.NY}));de.length<w.NY&&de.push.apply(de,(0,f.Z)(new Array(w.NY-de.length).fill(V.noConfig)));var pe=de.map((function(e){var t=(0,a.r0)(L(L({},e),{},{transform:T}));return t=e===V.noConfig?void 0:t})),fe=V.liveTickerData||V.noConfig,ve=(0,a.r0)(fe);ve=fe===V.noConfig?void 0:ve;var me=(0,o.useMemo)((function(){return(0,C.Gm)({content:B,overrides:S})}),[Q,X,ee,te,ne,re,oe,ae]);if(!m&&!S.thereIsBackingContent&&!S.thereIsCustomContentTantamountToContent)return null;var be=function(e){var t=e.renderedContent,n=void 0===t?new Map:t,r=e.suppressDuplicates,i=e.renderedContentId,o=e.featureId,a=!1,s=!1;if(i){var c=n.has(i)?n.get(i):[];c.includes(o)||c.push(o),s=c.indexOf(o)>0,(a=!!r&&!!s)||n.set(i,c)}return{isDuplicate:s,isSuppressibleDuplicate:a}}({renderedContent:A,suppressDuplicates:H,renderedContentId:b()(B,"fusion_additions.links_to_use.basic"),featureId:i}),ge=be.isSuppressibleDuplicate;if(!m&&(ge||!S.thereIsBackingContent&&!S.thereIsCustomContentTantamountToContent))return null;var he=me.isHtml?me.raw.alternateArt:void 0,ye=(0,g.jsx)(o.Fragment,{children:(0,g.jsx)("span",{style:{color:"red"},children:"Hidden: "})}),Oe=(0,g.jsxs)(O,{isAdmin:m,isSuppressibleDuplicate:ge,children:[q&&(0,g.jsxs)("span",{style:{marginBottom:"8px",display:"block",opacity:.75},children:["HIDE ENTIRE FEATURE"===t.mobilePreset?ye:"",(null===S||void 0===S?void 0:S.displayName)||"fronts/flex-feature"]}),m&&(0,g.jsx)(_.e,{requireContent:!0,content:p,configs:V,data:{imageData:le,videoData:J,slideshowListOfData:pe,podcastData:Y,liveTickerData:ve,electionData:W,olympicsData:ce},lists:{slideshow:{listOfConfigs:de,listOfData:pe}}}),(0,g.jsx)(D.Z,L({configs:V,content:B,overrides:S,imageData:le,slideshowListOfData:pe,videoData:J,podcastData:Y,liveTickerData:ve,electionData:W,olympicsData:ce,customHTML:he,artSlot:me},n),c)]});return r?Oe:(0,g.jsx)(P.Z,{index:c,overrides:S,featureLabel:"The Flex Feature",placementRequirements:{inMultiTableChain:!0},className:h&&!I?"visited":"",children:Oe})},F=o.memo(Z),H=n(15166),G=n(25554),M=n(31849);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var R=function(e){var t=e.id,n=e.isAdmin,i=e.fetchedContent,a=e.overrides,s=e.noGrid,c=e.editableContentObj,u=(0,d.g)().visitedLinks,p=(0,o.useState)({}),f=p[0],v=p[1],m=b()(i,"isLoading",!1),h=b()(i,"items",[]),y=b()(a,"offset",0);y=Number.isNaN(Number.parseInt(y,10))?0:Number.parseInt(y,10);var O=(0,j.It)({items:h,overrides:a}),C=n&&0===O?1:O,D=(0,G.I)(),w=D.updateItemsPerFeatureMapFeedAdjustments,x=D.featureId;if((0,o.useEffect)((function(){!m&&w&&w(x,C)}),[m,C]),(0,o.useEffect)((function(){if(!m){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},f);h.slice(y,O+y).forEach((function(t){e[t.canonical_url]||(e[t.canonical_url]=(0,l.ei)(u,t.canonical_url))})),v(e)}}),[m]),n&&!m&&0===O){var N=i?{level:"info",msg:"This flex feature has no content. It is visible in the admin, but not on the published page. The page/chain/table will adjust to its absence when published -- up to and including complete annihilation of the chain."}:{level:"warning",msg:"The feed content backing this feature is invalid or malfunctioning. Fix or remove it."},k=N.msg,I=N.level;return(0,g.jsx)(P.Z,{index:0,overrides:a,featureLabel:"The Flex Feature",placementRequirements:{inMultiTableChain:!0},children:(0,g.jsx)(M.default,{message:k,level:I})})}return h.slice(y,O+y).map((function(e,r){return(0,g.jsx)(F,{id:t,index:r,isAdmin:n,fetchedContent:e,overrides:a,noGrid:s,editableContentObj:c,isFeed:!0,isEditable:!1,isVisited:f[e.canonical_url]},r)}))},V=o.memo(R),U=(n(45614),n(18939));function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(e){var t,n,r,f=(0,o.useState)(!0),v=f[0],m=f[1];(0,o.useEffect)((function(){return m(!1)}),[]);var b=o.useState(!1),h=(0,i.Z)(b,2),y=h[0],O=h[1],D=(0,d.g)().visitedLinks,w=e.noGrid,x=e.id,P=e.context,N=e.customFields,k=(0,u.ql)()||{},I=(N=(0,p.Kf)({customFields:z(z({},H.ZP),N),chainCtx:k})).flexFeatureContentConfig,S=(0,s.GW)(),T=(void 0!==P&&void 0!==P.isAdmin?P:S).isAdmin,_=N,E=(0,o.useState)(),A=E[0],L=E[1],Z=(0,o.useState)(),G=Z[0],M=Z[1];o.useEffect((function(){L((0,U.n5)()),M((0,U.II)())}),[]);var q=(0,C.Yy)({flexFeatureContentConfig:I,userId:A,secureUserId:G,isAdmin:T}),R=q.type,B=q.contentConfig,Y=q.clientSideConfig,$=!!Y,J=!0!==N.liveTickerHide&&N.liveTickerNum>0,K="feed"===R||J?18e4:0,W=$?{}:B,Q=(0,a.r0)(Object.keys(W).length?W:j.LA,K),X=Y||{},ee=X.endpoint,te=X.options,ne=X.transform,re=(0,c.Z)({endpoint:ee,options:te,INTERVAL:0,fetchOnce:!0}).latest;!v&&ee&&re&&(Q=ne(re)),$&&(Q=Object.keys(Q||{}).length?Q:{isLoading:!0});var ie=null===(t=N)||void 0===t||null===(n=t.flexFeatureContentConfig)||void 0===n||null===(r=n.contentConfigValues)||void 0===r?void 0:r.content_path;return o.useEffect((function(){O((0,l.ei)(D,ie))}),[]),"feed"===R?(0,g.jsx)(V,{id:x,isAdmin:T,fetchedContent:Q,overrides:_,noGrid:w}):(0,g.jsx)(F,{id:x,index:0,isAdmin:T,fetchedContent:Q,overrides:_,noGrid:w,isVisited:y})};Y.label=H.ZP.displayName,Y.featurePlugins=["presets"];var $=Y},70865:function(e,t,n){var r=n(59499),i=n(50029),o=n(87757),a=n.n(o),s=n(67294),c=n(29208),u=n.n(c);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){return f.apply(this,arguments)}function f(){return(f=(0,i.Z)(a().mark((function e(t){var n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.endpoint,r=t.options,n){e.next=3;break}return e.abrupt("return",void 0);case 3:return/^\//.test(n)&&(i=u()(document||{},"location.pathname",void 0),/^\/assembler\//.test(i)&&!/^\/assembler\//.test(n)&&(n="/assembler".concat(n))),e.next=6,fetch(n,r).catch((function(){}));case 6:if(o=e.sent,e.prev=7,!o){e.next=14;break}return e.next=11,o.json();case 11:e.t0=e.sent,e.next=15;break;case 14:e.t0={};case 15:return e.abrupt("return",e.t0);case 18:return e.prev=18,e.t1=e.catch(7),e.abrupt("return",{});case 21:case"end":return e.stop()}}),e,null,[[7,18]])})))).apply(this,arguments)}t.Z=function(e){var t=e.content,n=e.isSameContent,r=void 0===n?function(){return!0}:n,o=e.INTERVAL,c=void 0===o?3e4:o,u=e.fetchOnce,l=void 0!==u&&u,f=e.endpoint,v=e.options,m=void 0===v?{}:v,b=(0,s.useRef)(!1),g=(0,s.useState)(void 0),h=g[0],y=g[1],O=(0,s.useState)(!1),j=O[0],C=O[1],D=(0,s.useReducer)((function(e,n){return d(d({},e),{},{latest:r(n.payload,e.latest)?h||t:n.payload})}),{latest:t||null,next:null}),w=D[0],x=D[1],P=(0,s.useCallback)((function(){try{p({endpoint:f,options:m}).then((function(e){b.current&&(y(e),x({payload:e}),j||C(!0))}))}catch(e){}}),[f,m,j]);return(0,s.useEffect)((function(){var e,t=l?setTimeout:setInterval,n=l?clearTimeout:clearInterval;return j&&(e=t((0,i.Z)(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p({endpoint:f,options:m});case 3:r=t.sent,y(r),x({payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(e);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),c)),function(){n(e)}}),[j]),(0,s.useEffect)((function(){return b.current=!0,t||P(),function(){b.current=!1}}),[]),{acknowledge:function(){return x({type:"acknowledge"})},hasData:!!w.next,latest:w.latest}}}}]);
//# sourceMappingURL=9969.8e8857f3593f1c61.js.map