const pollIntervals=[0,30,30,60,60,60,60,300];let polling,isPolling=!1;async function getData(l){return(await fetch(l)).json()}const poll=l=>{polling=setTimeout(()=>{getData(l).then(o=>{postMessage(o),pollIntervals.length>1&&pollIntervals.shift(),poll(l)}).catch(l=>{console.log(`[Breaking News] Error in json response: ${l}`)})},1e3*pollIntervals[0])};onmessage=(({data:l})=>{l.poll?isPolling||(isPolling=!0,poll(`${l.assetRoot}/../breaking/${location.hostname}.json`)):(isPolling=!1,clearTimeout(polling))});